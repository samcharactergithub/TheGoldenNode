function buildDropdown(){var a=[];$(".ajaxcart__product").each((function(){var t=$(this).find(".ajaxcart__product-name-orig").html().trim().split(" - ");a.push({line:$(this).find(".ajaxcart__row").data("line"),productUrl:$(this).find(".ajaxcart__product-image").attr("href"),imageUrl:$(this).find(".ajaxcart__product-image img").attr("src"),name:t[0],size:$(this).find(".ajaxcart__product-variant-size").html().trim(),color:t[1]}),$(this).find(".ajaxcart__product-name").text(t[0])})),0==a.length&&$("#bag-dropdown-notification-banner").addClass("active");var t=$("#bag-dropdown-items .cart");t.empty();var n=0;return 0===a.length&&$("#bag-dropdown-notification-banner").addClass("active"),a.forEach((function(a){n+=1;var r=$("<div></div>");var o;r.attr("class","bag-dropdown-item-row"),$("<span></span>").attr("class","icon icon-x");var i=$("<a></a>");i.attr("class","bag-dropdown-item-link"),i.attr("href",a.productUrl);var e=$("<img/>");e.attr("class","bag-dropdown-item-image"),e.attr("src",a.imageUrl);var d=$("<p>"+a.name+"</p>");if(d.attr("class","bag-dropdown-item-title"),"undefined"!=typeof a.size&&a.size.length>0){var c=$("<p>"+languageData("Size")+": "+languageData(a.size)+"</p>");c.attr("class","bag-dropdown-item-size")}if("undefined"!=typeof a.color&&a.color.length>0){var p=$("<p>"+languageData("Colour")+": "+languageData(a.color)+"</p>");p.attr("class","bag-dropdown-item-color")}var s=$('<a href="/cart/change?line='+n+'&amp;quantity=0" style="display: block; font-size: 9px">'+languageData("REMOVE")+"</a>");s.attr("class","bag-dropdown-item-remove-link"),i.append(e),r.append(i),r.append(d),r.append(c),r.append(p),r.append(s),t.append(r);var l=$("#notification-bar").length>0;var g=currencies[$.cookie("cart_currency")];g||(g=currencies[activeCurrency]),$.get("/cart.js",(function(a){var t=Shopify.formatMoney(a.total_price,g+"{{ amount }}");if($(".bag-dropdown-subtotal .subtotal").text(t),$(".cart-subtotal .price").text(t),l&&"undefined"!=typeof jsonConfig){var n=100*jsonConfig.FreeShippingAmount;var r;!jsonConfig.Options.FreeShippingEnabled||n<a.total_price?($("#bag-dropdown-notification-banner").removeClass("active"),$("#bag-dropdown-container").removeClass("notification-bar-enabled"),$(".cart-notification-bar").removeClass("active")):($("#bag-dropdown-notification-banner").addClass("active"),$("#bag-dropdown-container").addClass("notification-bar-enabled"),$(".cart-notification-bar").addClass("active"))}}),"json")})),!0}$("body").on("ajaxCart.afterCartLoad",(function(){buildDropdown()})),$(document).on("ready",(function(){ajaxCart.load()}));
//# sourceMappingURL=/s/files/1/1137/5270/t/41/assets/desktop-cart-dropdown.js.map?v=4870345807469517889
