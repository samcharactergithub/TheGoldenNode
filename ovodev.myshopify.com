(function(wnd){if(!wnd.minMaxify&&-1==location.href.indexOf("checkout.shopify")){var context=wnd.minMaxifyContext||{},mm=wnd.minMaxify={shop:"ovodev.myshopify.com",cart:null,cartLoadTryCount:0,customer:context.customer,feedback:function(t){if(0!=path.search(/\/(account|password|\d+\/)/)){var e=new XMLHttpRequest;e.open("POST","https://admin.minmaxify.com/report"),e.send(location.protocol+"//"+mm.shop+path+"\n"+t)}},guarded:function(t,e){return function(){try{var i=e&&e.apply(this,arguments),n=t.apply(this,arguments);return e?n||i:n}catch(t){console.error(t);var a=t.toString();-1==a.indexOf("Maximum call stack")&&mm.feedback("ex\n"+(t.stack||"")+"\n"+a)}}}},path=wnd.location.pathname;mm.guarded((function(){var $=wnd.jQuery,doc=wnd.document,messages={CART_AUTO_UPDATE:"Quantities have been changed, press OK to validate the cart.",CART_UPDATE_MSG:"Cart needs to be updated",CART_UPDATE_MSG2:'Cart contents have changed, you must click "Update cart" before proceeding.',GROUP_MAX_MSG:"Limited quantity - you can only purchase {{GroupMaxQuantity}} of {{GroupTitle}}.  Please remove the additional quantity from your cart",GROUP_MIN_MSG:"Must have at least {{GroupMinQuantity}} of {{GroupTitle}}.",GROUP_MULT_MSG:"{{GroupTitle}} quantity must be a multiple of {{GroupQuantityMultiple}}.",INTRO_MSG:"Cannot place order, conditions not met: \n\n",MAX_SUBTOTAL_MSG:"Must have at most {{CartMaxAmount}} in total.",MAX_WEIGHT_MSG:"Current weight: {{CartWeight}} grams is more than the maximum order weight: {{CartMaxWeight}} grams.",MIN_SUBTOTAL_MSG:"Must have at least {{CartMinAmount}} in total.",MIN_WEIGHT_MSG:"Current weight: {{CartWeight}} grams is less than the minimum order weight: {{CartMinWeight}} grams.",NOT_VALID_MSG:"Order not valid",PREVENT_CART_UPD_MSG:"\n\n",PROD_MAX_MSG:"Limited quantity - you can only purchase {{ProductMaxQuantity}} of {{ProductName}}.  Please remove the additional quantity from your cart",PROD_MIN_MSG:"{{ProductName}}: Must have at least {{ProductMinQuantity}} of this item.",PROD_MULT_MSG:"{{ProductName}}: Quantity must be a multiple of {{ProductQuantityMultiple}}.",TOTAL_ITEMS_MAX_MSG:"Must have at most {{CartMaxQuantity}} items total.",TOTAL_ITEMS_MIN_MSG:"Must have at least {{CartMinQuantity}} items total.",TOTAL_ITEMS_MULT_MSG:"Must have a multiple of {{CartQuantityMultiple}} items total.",VERIFYING_EXPANDED:"Please wait while we verify your cart.",VERIFYING_MSG:"Verifying"},checkoutSelector="[name='checkout'], [aria-label='Apple Pay'], [name='goto_pp'], .amazon-payments-pay-button > img, [href='/checkout'], [type=submit][value=Checkout], [onclick='window.location\\=\\'\\/checkout\\''], form[action=\\/checkout] [type=submit], .carthook_checkout, .checkout_button, .slidecarthq .footer form, form[action=\\/cart] [type=submit].button-cart-custom, .tdf_btn_ck",updatableCheckoutBtnSelector='[name="checkout"], .carthook_checkout',selCartQtyAdjust=".cart-item-decrease, .cart-item-increase, .js--qty-adjuster, .js-qty__adjust, .minmaxify-quantity-button, .numberUpDown > *, .cart-item button.adjust, .cart-wrapper .quantity-selector__button, .cart .product-qty > .items, .cart__row [type=button], .cart-item-quantity button.adjust, .cart_items .js-change-quantity, .ajaxcart__qty-adjust, .cart-table-quantity button",checkoutFrames=".additional-checkout-buttons, .dynamic-checkout__content, .cart__additional_checkout, .additional_checkout_buttons, .paypal-button-context-iframe, .additional-checkout-button--apple-pay, .additional-checkout-button--google-pay",dynamicCheckoutFrames="div.shopify-payment-button, .shopify-payment-button > div",selMinField=".minmaxify-minfield",selQantityField="input[name=quantity]",selCartQtyField='input[name^="updates["], .cart__qty-input, [data-cart-item-quantity]',selCartDrawerLink="a[href='/cart'], .js-drawer-open-right",limits={minorder:"",maxorder:"",mintotalitems:"",maxtotalitems:"",multtotalitems:"",itemmin:"",itemmax:"0",itemmult:"0",weightmin:"",weightmax:"",overridesubtotal:"",embedjq:!1,syncload:!0,skus:[],items:[{id:7048038908079,h:"f21-ovo-roots-athletics-tshirt-black",name:"OVO® / ROOTS ATHLETICS T-SHIRT - BLACK",max:1,combine:1},{id:7048038973615,h:"f21-ovo-roots-athletics-tshirt-heather-grey",name:"OVO® / ROOTS ATHLETICS T-SHIRT - HEATHER GREY",max:1,combine:1},{id:7048039039151,h:"f21-ovo-roots-athletics-tshirt-red",name:"OVO® / ROOTS ATHLETICS T-SHIRT - RED",max:1,combine:1},{id:7048039137455,h:"f21-ovo-roots-athletics-tshirt-yellow",name:"OVO® / ROOTS ATHLETICS T-SHIRT - YELLOW",max:1,combine:1},{id:7048038514863,h:"f21-ovo-roots-crewneck-black",name:"OVO® / ROOTS CREWNECK - BLACK",max:1,combine:1},{id:7048038580399,h:"f21-ovo-roots-crewneck-brown",name:"OVO® / ROOTS CREWNECK - BROWN",max:1,combine:1},{id:7048038482095,h:"f21-ovo-roots-crewneck-cream",name:"OVO® / ROOTS CREWNECK - CREAM",max:1,combine:1},{id:7048038678703,h:"f21-ovo-roots-crewneck-heather-grey",name:"OVO® / ROOTS CREWNECK - HEATHER GREY",max:1,combine:1},{id:7048038777007,h:"f21-ovo-roots-crewneck-red",name:"OVO® / ROOTS CREWNECK - RED",max:1,combine:1},{id:7048038809775,h:"f21-ovo-roots-crewneck-yellow",name:"OVO® / ROOTS CREWNECK - YELLOW",max:1,combine:1},{id:7048038088879,h:"f21-ovo-roots-heritage-hoodie-black",name:"OVO® / ROOTS HERITAGE HOODIE - BLACK",max:1,combine:1},{id:7048038121647,h:"f21-ovo-roots-heritage-hoodie-brown",name:"OVO® / ROOTS HERITAGE HOODIE - BROWN",max:1,combine:1},{id:7048037957807,h:"f21-ovo-roots-heritage-hoodie-cream",name:"OVO® / ROOTS HERITAGE HOODIE - CREAM",max:1,combine:1},{id:7048038219951,h:"f21-ovo-roots-heritage-hoodie-heather-grey",name:"OVO® / ROOTS HERITAGE HOODIE - HEATHER GREY",max:1,combine:1},{id:7048038318255,h:"f21-ovo-roots-heritage-hoodie-red",name:"OVO® / ROOTS HERITAGE HOODIE - RED",max:1,combine:1},{id:7048038383791,h:"f21-ovo-roots-heritage-hoodie-yellow",name:"OVO® / ROOTS HERITAGE HOODIE - YELLOW",max:1,combine:1},{id:7048037073071,h:"f21-ovo-roots-sweatpant-black",name:"OVO® / ROOTS SWEATPANT - BLACK",max:1,combine:1},{id:7048037138607,h:"f21-ovo-roots-sweatpant-brown",name:"OVO® / ROOTS SWEATPANT - BROWN",max:1,combine:1},{id:7048037007535,h:"f21-ovo-roots-sweatpant-cream",name:"OVO® / ROOTS SWEATPANT - CREAM",max:1,combine:1},{id:7048037236911,h:"f21-ovo-roots-sweatpant-heather-grey",name:"OVO® / ROOTS SWEATPANT - HEATHER GREY",max:1,combine:1},{id:7048037302447,h:"f21-ovo-roots-sweatpant-red",name:"OVO® / ROOTS SWEATPANT - RED",max:1,combine:1},{id:7048037400751,h:"f21-ovo-roots-sweatpant-yellow",name:"OVO® / ROOTS SWEATPANT - YELLOW",max:1,combine:1},{id:7048037630127,h:"f21-ovo-roots-tshirt-black",name:"OVO® / ROOTS T-SHIRT - BLACK",max:1,combine:1},{id:7048037662895,h:"f21-ovo-roots-tshirt-brown",name:"OVO® / ROOTS T-SHIRT - BROWN",max:1,combine:1},{id:7048037466287,h:"f21-ovo-roots-tshirt-cream",name:"OVO® / ROOTS T-SHIRT - CREAM",max:1,combine:1},{id:7048037761199,h:"f21-ovo-roots-tshirt-heather-grey",name:"OVO® / ROOTS T-SHIRT - HEATHER GREY",max:1,combine:1},{id:7048037826735,h:"f21-ovo-roots-tshirt-red",name:"OVO® / ROOTS T-SHIRT - RED",max:1,combine:1},{id:7048037892271,h:"f21-ovo-roots-tshirt-yellow",name:"OVO® / ROOTS T-SHIRT - YELLOW",max:1,combine:1}],groups:[{field:"sku",op:"oo",filter:["C-0321-OT-1406-RD-02","C-0321-OT-1406-RD-03","C-0321-OT-1406-RD-04","C-0321-OT-1406-RD-05","C-0321-OT-1406-RD-06","C-0321-OT-1406-RD-07","C-0321-OT-1408-GR-02","C-0321-OT-1408-GR-03","C-0321-OT-1408-GR-04","C-0321-OT-1408-GR-05","C-0321-OT-1408-GR-06","C-0321-OT-1408-GR-07","C-0321-OT-1410-RD-02","C-0321-OT-1410-RD-03","C-0321-OT-1410-RD-04","C-0321-OT-1410-RD-05","C-0321-OT-1410-RD-06","C-0321-OT-1410-RD-07","C-0321-OT-1409-BL-02","C-0321-OT-1409-BL-03","C-0321-OT-1409-BL-04","C-0321-OT-1409-BL-05","C-0321-OT-1409-BL-06","C-0321-OT-1409-BL-07","C-0321-OT-1412-PL-02","C-0321-OT-1412-PL-03","C-0321-OT-1412-PL-04","C-0321-OT-1412-PL-05","C-0321-OT-1412-PL-06","C-0321-OT-1412-PL-07","C-0321-OT-1411-BK-02","C-0321-OT-1411-BK-03","C-0321-OT-1411-BK-04","C-0321-OT-1411-BK-05","C-0321-OT-1411-BK-06","C-0321-OT-1411-BK-07"],title:"OVO X NBA VARSITY JACKET",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534755417","4580534755424","4580534755431","4580534755448","4580534755455","4580534755363","4580534755370","4580534755387","4580534755394","4580534755400"],title:"OVO® / BAPE® CAMO SNOWBOARD JACKET",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534755318","4580534755325","4580534755332","4580534755349","4580534755356","4580534755264","4580534755271","4580534755288","4580534755295","4580534755301"],title:"OVO® / BAPE® CAMO DOWN VEST",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534755790","4580534755783"],title:"OVO® / BAPE® SNAPBACK",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534754571","4580534754588","4580534754595","4580534754601","4580534754618","4580534754564"],title:"OVO® / BAPE® WOODLAND CAMO OG OWL CREWNECK",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534754502","4580534754519","4580534754526","4580534754533","4580534754540","4580534754557","4580534754441","4580534754458","4580534754465","4580534754472","4580534754489","4580534754496"],title:"OVO® / BAPE® APE HEAD T-SHIRT",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534754205","4580534754212","4580534754229","4580534754236","4580534754243","4580534754250","4580534754267","4580534754274","4580534754281","4580534754298","4580534754304","4580534754311"],title:"OVO® / BAPE® CAMO SHARK REVERSIBLE FULL-ZIP HOODIE",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534754847","4580534754854","4580534754861","4580534754878","4580534754885","4580534754892","4580534754908","4580534754915","4580534754922","4580534754939","4580534754946","4580534754953"],title:"OVO® / BAPE® CAMO SHARK REVERSIBLE SWEATPANT",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534755745","4580534755752"],title:"OVO® / BAPE® SHARK REVERSIBLE BALACLAVA",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534755493","4580534755486"],title:"OVO® / BAPE® CAMO SHARK BANDANA",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534754960","4580534754977","4580534754984","4580534754991","4580534755004","4580534755011","4580534755028","4580534755035","4580534755042","4580534755059","4580534755066","4580534755073"],title:"OVO® / BAPE® SUBWAY TILE HOODIE",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534754144","4580534754151","4580534754168","4580534754175","4580534754182","4580534754199","4580534754083","4580534754090","4580534754106","4580534754113","4580534754120","4580534754137"],title:"OVO® / BAPE® BABY MILO T-SHIRT",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534754748","4580534754755","4580534754762","4580534754779","4580534754786","4580534754793","4580534754809","4580534754816","4580534754823","4580534754830"],title:"OVO® / BAPE® SUBWAY TILE SWEATPANT",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534755479"],title:"OVO® / BAPE® ASHTRAY",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534755813","4580534755820","4580534755837","4580534755844","4580534755851"],title:"OVO® / BAPE® VARSITY JACKET",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534755141","4580534755158","4580534755165","4580534755172","4580534755189","4580534755196","4580534755202","4580534755219","4580534755226","4580534755233","4580534755240","4580534755257","4580534755080","4580534755097","4580534755103","4580534755110","4580534755127","4580534755134"],title:"OVO® / BAPE® STAR LONGSLEEVE T-SHIRT",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534754625","4580534754632","4580534754649","4580534754656","4580534754663","4580534754670","4580534754687","4580534754694","4580534754700","4580534754717","4580534754724","4580534754731"],title:"OVO® / BAPE® GOLD CARD CREWNECK",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534754380","4580534754397","4580534754403","4580534754410","4580534754427","4580534754434","4580534754328","4580534754335","4580534754342","4580534754359","4580534754366","4580534754373"],title:"OVO® / BAPE® GOLD CARD T-SHIRT",combine:!0,max:"1"},{field:"sku",op:"oo",filter:["4580534755769","4580534755776"],title:"OVO® / BAPE® STAR BEANIE",combine:!0,max:"1"}],rules:[]},popupCount=0,eXHR,limitsShown,qtyChanged,vstart,theme={name:""},dropVerifyingTimeout=2e4;function now(){return(new Date).getTime()}function clone(t){var e={};return Object.keys(t).forEach((function(i){e[i]=t[i]})),e}function delay(t,e){try{setTimeout(t,e||0)}catch(i){e||t()}}function $select(t){return"string"==typeof t?doc.querySelectorAll(t):t.nodeType?[t]:t}function $each(t,e){var i,n=$select(t);if(n&&e)for(i=0;i<n.length;++i)e(n[i]);return n}function $first(t,e){var i=$select(t),n=e;if("string"==typeof n&&(n=function(t){return t[e]}),i.length)return n?n(i[0]):i[0]}function $trigger(t,e){if($)return $(t).trigger(e);$each(t,(function(t){t[e]()}))}function $on(t,e,i){try{if($)return $(t).on(e,i)}catch(t){}$each(t,(function(t){t.addEventListener(e,i)}))}function $create(t,e){var i=doc.createElement("div");i.innerHTML=t;var n=i.childNodes;if(!e||!n)return n;for(;n.length;)e.appendChild(n[0]);return 1}mm.showMessage=function(t){var e=lastCheck.messages;if(isValid())return mm.closePopup&&mm.closePopup(),!0;if(++popupCount,t&&(mm.prevented=now()),!mm.showPopup||!mm.showPopup(e[0],e.slice(1))){for(var i="",n=0;n<e.length;++n)i+=e[n]+"\n";alert(i)}return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()),!1};var css='.minmaxify-p-bg { top: 0; left: 0; width: 100%; height: 100%; z-index: 199999998; overflow: hidden; position: fixed; background: rgb(11, 11, 11, 0.8); opacity: 0.2; } .minmaxify-p-bg.active { transition: opacity 0.15s ease-out; opacity: 1; display: table; } \n.minmaxify-p-wrap { top: 0; left: 0; width: 100%; height: 100%; display: table; z-index: 199999999; position: fixed; outline: none !important; -webkit-backface-visibility: hidden; pointer-events: none; }\n.minmaxify-p-wrap > div { display: table-cell; vertical-align: middle; }\n.minmaxify-p { opacity: .5; color: #333333; background-color: white; padding: 18px; max-width: 500px; margin: 18px auto; width: calc(100% - 36px); pointer-events: auto; border: solid white 1px; } .minmaxify-p.active { opacity: 1; transition: all 0.25s ease-in; border-width: 0px; }\n.minmaxify-ok { display: inline-block; padding: 8px 20px; margin: 0; line-height: 1.42; text-decoration: none; text-align: center; vertical-align: middle; white-space: nowrap; border: 1px solid transparent; border-radius: 2px; font-family: "Montserrat","HelveticaNeue","Helvetica Neue",sans-serif; font-weight: 400;font-size: 14px;text-transform: uppercase;transition:background-color 0.2s ease-out;background-color: #333333; color: white; min-width: unset; }\n.minmaxify-ok:after { content: "OK"; }\n.minmaxify-close { font-style: normal; font-size: 28px; font-family: Arial, Baskerville, monospace; overflow: visible; background: transparent; border: 0; -webkit-appearance: none; display: block; outline: none; padding: 0 0 0 10px; box-shadow: none; margin-top: -10px; opacity: .65; }\n.minmaxify-p button { user-select: none; -webkit-user-select: none; cursor: pointer; float:right; width: unset; }\n.minmaxify-close:hover, .minmaxify-close:focus { opacity: 1; }\n.minmaxify-p ul { padding-left: 2rem; margin-bottom: 2rem; }';function initPopups(){mm.showPopup||$create('<style type="text/css" minmaxify>'+css+"</style>",doc.head)&&(mm.showPopup=function(t,e){for(var i='<button title="Close (Esc)" type="button" class="minmaxify-close">&times;</button>'+t.replace(new RegExp("\n","g"),"<br/>")+"<ul>",n=0;n<e.length;++n){var a=e[n];a&&(i+="<li>"+a+"</li>")}i+='</ul><div><button class="minmaxify-ok"></button><div style="display:table;clear:both;"></div></div>';var o=$first("div.minmaxify-p");if(o)o.innerHtml=i;else{doc.body.insertBefore($create("<div class='minmaxify-p-bg'></div>")[0],document.body.firstChild);var r=$create("<div class='minmaxify-p-wrap'><div><div class='minmaxify-p'>"+i+"</div></div></div>")[0];r.setAttribute("tabindex",-1),doc.body.insertBefore(r,document.body.firstChild),$on(".minmaxify-ok","click",(function(){mm.closePopup(1)})),$on(".minmaxify-close, .minmaxify-p-bg","click",(function(){mm.closePopup()})),setTimeout((function(){$each(".minmaxify-p-bg, .minmaxify-p",(function(t){t.classList.add("active")}))}),0)}return 1},mm.closePopup=function(t){$each(".minmaxify-p-wrap, .minmaxify-p-bg",(function(t){t.parentNode.removeChild(t)}))},mm.popupShown=function(){return $select("div.minmaxify-p").length},doc.addEventListener("keyup",(function(t){27===t.keyCode&&mm.closePopup()})))}function formatT(tag,values){var msg=unescape(messages[tag]);return values&&(msg=msg.replace(/\{\{(.*?)\}\}/g,(function(_,v){try{with(values)return eval(v)}catch(x){return'"'+x.message+'"'}}))),msg}function formatMoney(t){try{t=t.toLocaleString()}catch(t){}return"${{amount}}".replace(/{{\s*amount[a-z_]*\s*}}/,t)}function CheckState(t,e,i,n){this.cart=t||{},this.limits=e,this.formatter=n,this.customer=i,this.messages=[]}CheckState.prototype={checkAll:function(){this.isOk=!0;var t=this.getSubtotal(),e=Number(this.limits.overridesubtotal);e>0&&t>e||(this.addMsg("INTRO_MSG"),this.checkSubTotal(),this.checkItemLimits(),this.checkGroupLimits(),this.checkTotalItems(),this.checkWeight())},addMsg:function(t,e){this.messages.push(this.formatter.formatByTag(t,e))},fmtMoney:function(t){return this.formatter.formatMoney(t)},equalTo:function(t){if(this.isOk!==t.isOk)return!1;var e=this.messages,i=t.messages||[];if(e.length!=i.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==i[n])return!1;return!0},getSubtotal:function(){return Number(this.cart.total_price||0)/100},checkSubTotal:function(){var t=this.getSubtotal(),e=Number(this.limits.minorder),i=Number(this.limits.maxorder);t<e&&(this.addMsg("MIN_SUBTOTAL_MSG",{CartMinAmount:this.fmtMoney(e)}),this.isOk=!1),i>0&&t>i&&(this.addMsg("MAX_SUBTOTAL_MSG",{CartMaxAmount:this.fmtMoney(i)}),this.isOk=!1)},getWeight:function(){return Number(this.cart.total_weight||0)},checkWeight:function(){var t=this.getWeight(),e=Number(this.limits.weightmin),i=Number(this.limits.weightmax);t<e&&(this.addMsg("MIN_WEIGHT_MSG",{CartWeight:t,CartMinWeight:e}),this.isOk=!1),i>0&&t>i&&(this.addMsg("MAX_WEIGHT_MSG",{CartWeight:t,CartMaxWeight:i}),this.isOk=!1)},checkGenericLimit:function(t,e,i,n){if(!(e.quantity<Number(i.min)&&(this.addGenericError(n,t,"MIN","MinQuantity",i.min),n)||0!=Number(i.max)&&e.quantity>i.max&&(this.addGenericError(n,t,"MAX","MaxQuantity",i.max),n)||Number(i.multiple)>1&&e.quantity%Number(i.multiple)>0&&(this.addGenericError(n,t,"MULT","QuantityMultiple",i.multiple),n))){var a=Number(e.line_price)/100;void 0!==i.minAmt&&a<Number(i.minAmt)&&(this.addGenericError(n,t,"MIN_SUBTOTAL","MinAmount",this.fmtMoney(i.minAmt)),n)||0!=Number(i.maxAmt||0)&&a>i.maxAmt&&this.addGenericError(n,t,"MAX_SUBTOTAL","MaxAmount",this.fmtMoney(i.maxAmt))}},addGenericError:function(t,e,i,n,a){var o={};t?(o.ProductName=e,o.item=t,o["Product"+n]=a,i="PROD_"+i+"_MSG"):(o.GroupTitle=e,o["Group"+n]=a,i="GROUP_"+i+"_MSG"),this.addMsg(i,o),this.isOk=!1},_buildLimitMaps:function(){var t=this.limits,e=t.items||[];t.byHandle={},t.bySKU={},t.byId={};for(var i=0;i<e.length;++i){var n=e[i];n.sku&&(t.bySKU[n.sku]=n),n.h&&(t.byHandle[n.h]=n),n.id&&(t.byId[n.id]=n)}},getSkuLimit:function(t){if(t){var e=this.limits.bySKU[t];if(e)return e}},checkItemLimits:function(){var t,e,i=this.cart.items||[],n={},a={};function o(t,e,i){var n=i[e];void 0===n?(n=i[e]={},Object.keys(t).forEach((function(e){n[e]=t[e]}))):(n.quantity+=Number(t.quantity),n.line_price+=Number(t.line_price))}for(var r=0;r<i.length;r++)o(t=i[r],this.getCartItemKey(t),n),o(t,this.getCartItemCombinedKey(t),a);for(var m in n)(t=n[m])&&((e=this.getItemLimit(t)).combine||this.checkGenericLimit(t.title,t,e,t));for(var m in a)(t=a[m])&&(e=this.getItemLimit(t,!0)).combine&&this.checkGenericLimit(e.name?unescape(e.name):t.title,t,e,t)},getCartItemCombinedKey:function(t){return t.handle},getCartItemKey:function(t){return t.handle+" "+(t.sku||t.variant_id)},getCartItemIds(t){var e={handle:t.handle||"",sku:t.sku},i=e.handle.indexOf(" ");return i>0&&(e.sku=e.handle.substring(i+1),e.handle=e.handle.substring(0,i)),e},getItemLimit:function(t,e){var i=this.limits;if(!i)return{};void 0===i.byHandle&&this._buildLimitMaps();var n=this.getCartItemIds(t),a=this.getSkuLimit(n.sku);return a||(a=i.byId[t.product_id]||i.byHandle[n.handle]),a||(a=this.getIndividualGroupLimit(t,n)),a||(a={min:Number(i.itemmin),max:Number(i.itemmax),multiple:Number(i.itemmult)}),a},calcItemLimit:function(t){var e=this.getItemLimit(t);(e={max:parseInt(e.max)||0,multiple:parseInt(e.multiple)||1,min:parseInt(e.min),combine:e.combine}).min||(e.min=e.multiple);var i=Number(this.limits.maxtotalitems)||0;(!e.max||i&&i<e.max)&&(e.max=i);for(var n=this.limits.groups||[],a=0;a<n.length;++a){var o=n[a];1==o.combine&&this.groupIsApplicable(t,o)&&(!e.max||parseInt(o.max)&&o.max<e.max)&&(e.max=o.max)}return e},checkTotalItems:function(){for(var t=Number(this.limits.maxtotalitems),e=Number(this.limits.mintotalitems),i=Number(this.limits.multtotalitems),n=0,a=this.cart.items||[],o=0;o<a.length;o++)n+=Number(a[o].quantity);0!=t&&n>t&&(this.addMsg("TOTAL_ITEMS_MAX_MSG",{CartMaxQuantity:t}),this.isOk=!1),n<e&&(this.addMsg("TOTAL_ITEMS_MIN_MSG",{CartMinQuantity:e}),this.isOk=!1),i>1&&n%i>0&&(this.addMsg("TOTAL_ITEMS_MULT_MSG",{CartQuantityMultiple:i}),this.isOk=!1)},getIndividualGroupLimit:function(t,e){for(var i=this.limits.groups||[],n=0;n<i.length;++n){var a=i[n];if(1!=a.combine&&this.groupIsApplicable(t,a,e))return a}},groupIsApplicable:function(t,e,i){var n=e.field,a=e.op,o=e.filter;if("[]"==n)return this.checkMultipleConditions(o||[],this.groupIsApplicable.bind(this,t),a,i);var r,m=t[n];switch(n){case"ctags":m=(this.customer||{}).tags||[],r=!0;break;case"product":m=t.product_id;case"coll":case"ptag":r=!0;break;case"price":m/=100;break;case"handle":void 0!==(i||{}).handle&&(m=i.handle)}return r&&("e"==a?(a="oo",o=[o]):"ne"==a&&(a="no",o=[o])),filterOps[a](m,o)},checkGroupLimits:function(){for(var t=this.limits.groups||[],e=0;e<t.length;++e){var i=t[e];if(1==i.combine){for(var n=0,a=0,o=this.cart.items||[],r=0;r<o.length;++r){var m=o[r];this.groupIsApplicable(m,i)&&(n+=m.quantity,a+=m.line_price)}n&&this.checkGenericLimit(unescape(i.title),{quantity:n,line_price:a},i)}}},checkMultipleConditions(t,e,i,n){for(var a=0;a<t.length;++a){if(e(t[a],n)){if("not"==i)return!1;if("or"==i)return!0}else{if("and"==i)return!1;if("nor"==i)return!0}}return"and"==i||"not"==i}};var filterOps={c:function(t,e){return t&&String(t).indexOf(e)>-1},nc:function(t,e){return t&&-1==String(t).indexOf(e)},e:function(t,e){return t==e},g:function(t,e){return t>e},l:function(t,e){return t<e},ne:function(t,e){return t!=e},be:function(t,e){return t>e[0]&&t<e[1]},oo:function(t,e){if(t){t instanceof Array||(t=[t]);for(var i=0;i<t.length;++i)for(var n=0;n<e.length;++n)if(t[i]==e[n])return 1}},no:function(t,e){t instanceof Array||(t=[t]);for(var i=0;i<t.length;++i)for(var n=0;n<e.length;++n)if(t[i]==e[n])return 0;return 1}},introCheck={messages:[formatT("VERIFYING_EXPANDED")]},lastCheck=introCheck,prevCheck;function makeCheckState(){return new CheckState(mm.cart,limits,mm.customer,{formatByTag:formatT,formatMoney:formatMoney})}function calcItemLimit(t){return makeCheckState().calcItemLimit(t)}function isComplete(){return limits}function isValid(){return lastCheck.isOk&&!qtyChanged&&isComplete()||"force"==lastCheck.isOk}function showLimits(){try{if(!isComplete())return;if(showLimitsInCart(),hideDynamicCheckout(),location.pathname!=path&&(path=location.pathname,limitsShown=!1),limitsShown)return;var t=getContextItem();if(!t)return;var e=$first(selQantityField);e&&putLimitsIntoInput(calcItemLimit(t),e)}catch(t){console.error(t)}}function putLimitsIntoInput(t,e){function i(t,i){if(arguments.length<2)return e.getAttribute(t);null==i?e.removeAttribute(t):e.setAttribute(t,i)}var n=i("mm-max"),a=t.max||void 0,o=i("mm-step"),r=t.multiple,m=i("mm-min"),s=t.min,c=parseInt(i("mm-stock-max")),u=parseInt(e.value);"loading"!=doc.readyState&&(limitsShown=!0),s!=m&&((s>1||m)&&$&&$(".minmaxify-min").text(s).parent().show(),(m?u==m:!u||u<s)&&($each(selMinField,(function(t){t.value=s})),e.value=s),!t.combine&&s>1?i("min",s):m&&i("min",null),i("mm-min",s)),isNaN(c)&&!n&&(c=parseInt(i("data-max-quantity")||i("max")),i("mm-stock-max",c)),!isNaN(c)&&a&&a>c&&(a=c),a!=n&&($&&$(".minmaxify-max").text(a).parent().show(),$each(".minmaxify-maxfield",(function(t){t.value=a})),a?i("max",a):n&&i("max",null),i("mm-max",a)),r!=o&&((r>1||o)&&$&&$(".minmaxify-multiple").text(r).parent().show(),$each(".minmaxify-multfield",(function(t){t.value=r})),t.combine?o&&i("step",null):i("step",r),i("mm-step",r))}function showLimitsInCart(){var t=mm.cart&&mm.cart.items;t&&$each(selCartQtyField,(function(e){for(var i=0;i<t.length;++i){var n=t[i];if(n.key==e.getAttribute("data-line-id")||e.id&&0==e.id.search(new RegExp("updates(_large)?_"+n.id,"i"))){var a=calcItemLimit(n);a.min>1&&!a.combine&&(e.min=a.min),a.max&&(e.max=a.max),a.multiple&&!a.combine&&(e.step=a.multiple);break}}}))}function getContextItem(t){var e=$first("#minmaxify-product","textContent");if(!e){if(!t)try{t=decodeURIComponent(path||location.href||"")}catch(e){t=""}if(!((t=t.split("/")).length>2&&"products"==t[t.length-2]))return;e=t[t.length-1]}var i=(wnd.ShopifyAnalytics||{}).meta,n={handle:e,sku:""},a=i&&i.product;if(!a)try{a=JSON.parse($first("#ProductJson-product-template","textContent"))}catch(t){}if(a){n.product_description=a.description,n.product_type=a.type,n.vendor=a.vendor,n.price=a.price,n.product_title=a.title,n.product_id=a.id;var o=a.variants,r=o.length;if(i&&i.selectedVariantId||1==r)for(var m=0;m<r;++m){var s=o[m];if(1==r||s.id==i.selectedVariantId){n.variant_title=s.public_title,n.sku=s.sku,n.grams=s.weight,n.price=s.price||a.price,n.variant_id=s.id,n.name=s.name,n.product_title||(n.product_title=s.name);break}}}return n}function setCheckoutMsg(t,e,i){$each(updatableCheckoutBtnSelector,(function(n){var a=null===t?n.minMaxifySavedLabel:t;n.minMaxifySavedLabel||(n.minMaxifySavedLabel=n.value||(n.innerText||n.textContent||"").trim()),void 0!==a&&(n.value=a,n.textContent&&!n.childElementCount&&(n.textContent=a));var o=n.classList;o&&e&&o.add(e),o&&i&&o.remove(i)}))}function reportVerifyingProgress(t){"start"==t?(setCheckoutMsg(formatT("VERIFYING_MSG"),"btn--loading"),vstart||(vstart=now(),dropVerifyingTimeout&&delay((function(){vstart&&now()-vstart>=dropVerifyingTimeout&&(isCartPage()&&mm.feedback("sv\n"+JSON.stringify(mm.cart)),lastCheck={isOk:"force"},reportVerifyingProgress("stop"))}),dropVerifyingTimeout))):"stop"==t?(setCheckoutMsg(lastCheck.isOk?null:formatT("NOT_VALID_MSG"),0,"btn--loading"),vstart=0,mm.popupShown&&mm.popupShown()&&mm.showMessage()):"changed"==t&&setCheckoutMsg(formatT("CART_UPDATE_MSG")),toggleCheckoutButtons()}function toggleCheckoutButtons(){$each(checkoutFrames,(function(t){var e=t.style;isValid()?t.mm_hidden&&(e.display=t.mm_hidden,t.mm_hidden=!1):"none"!=e.display&&(t.mm_hidden=e.display||"block",e.display="none")}))}function hookCheckoutBtn(){setCheckoutMsg(),bindOnce(checkoutSelector,"mousedown",mm.showMessage,!0);try{bindOnce(checkoutSelector,"touchstart",mm.showMessage,!0)}catch(t){}return bindOnce(checkoutSelector,"click",mm.showMessage,!0).length}function bindOnce(t,e,i,n){return $each(t,(function(t){if(!t["mmBound_"+e]){t["mmBound_"+e]=!0;var a=t["on"+e];a&&n?t["on"+e]=mm.guarded((function(t){i()?a.apply(this,arguments):t.preventDefault()})):$on(t,e,mm.guarded(i))}}))}function hookQtyChangers(){}function updateVerificationState(t){null==mm.cart&&(mm.cart=(wnd.Shopify||{}).cart||null),t&&normalizeCartRecord();var e=mm.cart&&mm.cart.item_count&&(t||!popupCount&&isCartPage());(hookPageComponents()||e||t)&&(lastCheck=introCheck,reportVerifyingProgress("start"),null==mm.cart?reloadCart():isComplete()&&(mm.checkLimits(),reportVerifyingProgress("stop"),e&&(prevCheck&&!lastCheck.isOk&&!lastCheck.equalTo(prevCheck)&&doc.body?mm.showMessage():!popupCount&&isCartPage()&&delay(mm.showMessage,100)),prevCheck=lastCheck))}function isCartPage(){return 0==path.indexOf("/cart")}function hideDynamicCheckout(){$each(dynamicCheckoutFrames,(function(t){t.style.display="none"}))}function hookPageComponents(){showLimits();var t=hookCheckoutBtn();return t&&(hookQtyChangers(),toggleCheckoutButtons()),t}function handleCartXHR(t,e,i,n){if(e&&"function"==typeof e.search&&4==t.readyState&&200==t.status&&e){var a,o;try{var r=(a=t.responseText||"").indexOf("{");-1!=e.search(/\/cart(\/update|\/change|\/clear|\.js)/)||"/cart"==e&&0==r?(-1!=e.indexOf("callback=")&&(a=a.substring(r,a.length-1)),o=mm.handleCartUpdate(a,-1!=e.indexOf("cart.js")?"get":"update",n)):-1!=e.indexOf("/cart/add")?o=mm.handleCartUpdate(a,"add",n):"GET"!=i||isCartPage()&&"/cart"!=e||(updateVerificationState(),o=1),eXHR&&(o=eXHR(e,t)||o)}catch(t){if(!a||0==t.toString().indexOf("SyntaxError"))return;console.error(t),mm.feedback("ex\n"+(t.stack||"")+"\n"+t.toString()+"\n"+e)}o&&followupCartChange(e,t)}}function followupCartChange(){for(var t=0;t<=2e3;t+=200)delay(hookPageComponents,t)}function reloadCart(){var t=new XMLHttpRequest;t.open("GET","/cart.js?_="+now()),t.mmUrl=null,t.onreadystatechange=function(){handleCartXHR(t,"/cart.js")},t.send(),delay((function(){null==mm.cart&&mm.cartLoadTryCount++<60&&reloadCart()}),5e3)}function normalizeCartRecord(){}mm.checkLimits=function(){try{var t=makeCheckState();return t.checkAll(),lastCheck=t,t.isOk}catch(t){console.error(t),mm.feedback("ex\n"+(t.stack||"")+"\n"+t.toString()+"\n"+JSON.stringify(mm.cart))}},mm.getLimitsFor=calcItemLimit,mm.onChange=mm.guarded((function(){reportVerifyingProgress("changed"),qtyChanged=!0,lastCheck={messages:[formatT("CART_UPDATE_MSG2")]},toggleCheckoutButtons()})),wnd.getLimits=updateVerificationState,wnd.mmIsEnabled=isValid,mm.handleCartUpdate=function(t,e,i){if("string"==typeof t&&(t=JSON.parse(t)),"get"!=e||JSON.stringify(mm.cart)!=JSON.stringify(t)){if("add"!=e){if(i&&!t.item_count&&mm.cart)return;mm.cart=t}else{var n=t.items||[t];t=mm.cart;for(var a=0;a<n.length;++a){var o=n[a];t&&t.items||(t=mm.cart={total_price:0,total_weight:0,items:[],item_count:0});for(var r=t.items.length-1;r>=-1;--r){if(r>=0){var m=t.items[r];if(m.id!=o.id)continue;t.total_price-=m.line_price,t.total_weight-=m.grams*m.quantity,t.item_count-=m.quantity,t.items.splice(r,1)}t.total_price+=o.line_price,t.total_weight+=o.grams*o.quantity,t.item_count+=o.quantity,t.items.push(o);break}}}return qtyChanged=!1,updateVerificationState(!0),1}if(!lastCheck.isOk)return hookPageComponents(),1};var xhrCls=wnd.XMLHttpRequest.prototype,xhrOpen=xhrCls.open,xhrSend=xhrCls.send;function hookXHR(){xhrCls.open=function(t,e,i,n,a){return this.mmUrl=e,this.mmMethod=t,xhrOpen.apply(this,arguments)},xhrCls.send=function(t){var e=this;return e.addEventListener?e.addEventListener("readystatechange",(function(t){handleCartXHR(e,e.mmUrl,e.mmMethod)})):e.onreadystatechange=mm.guarded((function(){handleCartXHR(e,e.mmUrl)}),e.onreadystatechange),xhrSend.apply(e,arguments)}}function hookFetch(){var t=wnd.fetch;t&&!t.minMaxify&&(wnd.fetch=function(e){var i=t.apply(this,arguments);return-1!=(e=((e||{}).url||e||"").toString()).search(/\/cart(\/|\.js)/)&&(i=i.then((function(t){try{t.ok&&t.clone().text().then(mm.guarded((function(i){t.readyState=4,t.responseText=i,handleCartXHR(t,e,"POST",!0)})))}catch(t){}return t}))),i},wnd.fetch.minMaxify=1)}function hookUI(){if(($||($=wnd.jQuery),hookCheckoutBtn(),!doc.getElementById("minmaxify_disable"))&&(e=(wnd.Shopify||{}).shop||location.host)==mm.shop){lastCheck=introCheck,bindOnce(selCartDrawerLink,"click",followupCartChange),initPopups(),updateVerificationState(!0),hookVariantSelectionTrekkie();var t=document.getElementsByTagName("script");for(let i=0;i<t.length;++i){var e;(e=t[i]).src&&-1!=e.src.indexOf("trekkie.storefront")&&!e.minMaxify&&(e.minMaxify=1,e.addEventListener("load",hookVariantSelectionTrekkie))}}}function hookVariantSelectionTrekkie(){var t=wnd.trekkie||(wnd.ShopifyAnalytics||{}).lib||{},e=t.track;e&&!e.minMaxify&&(t.track=function(t){return"Viewed Product Variant"==t&&(limitsShown=0,delay(showLimits)),e.apply(this,arguments)},t.track.minMaxify=1,t.ready&&(t.ready=mm.guarded(updateVerificationState,t.ready)))}doc.getElementById("minmaxify_disable")||(hookXHR(),hookFetch(),doc.addEventListener("DOMContentLoaded",mm.guarded((function(){hookUI(),(wnd.booster||wnd.BoosterApps)&&$&&$.fn.ajaxSuccess&&$(doc).ajaxSuccess((function(t,e,i){handleCartXHR(e,i.url,i.type)})),theme=wnd.Shopify&&wnd.Shopify.theme||theme,wnd.routes&&hookFetch()}))),hookUI(),wnd.addEventListener("beforeunload",(function(){mm.prevented&&mm.cart&&mm.cart.items.length&&now()-mm.prevented<100&&mm.feedback("lb")})))}))()}})(window);